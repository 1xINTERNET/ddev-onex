#!/bin/bash

## #ddev-generated
## Description: Install the lullabot/ddev-playwright addon and does some basic onex config.
## Usage: 1x-playwright-install

start=`date +%s`

# Colors for printing messages.
RED='\033[0;31m'
CYAN='\033[0;36m'
GREEN='\033[0;32m'
BROWN='\033[0;33m'
NC='\033[0m' # No Color

echo -e "${GREEN}Installing playwright (within DDEV):${NC}"
ddev add-on get lullabot/ddev-playwright
ddev restart

ddev exec -d /var/www/html/ "mkdir -p test/playwright"

# To install with npx.
pushd $DDEV_APPROOT/test/playwright && npx --yes @1xinternet/create-dxp-playwright --lang=Javascript --quiet

# Install playwright *inside* the ddev container (see lullabot/ddev-playwright)
ddev install-playwright